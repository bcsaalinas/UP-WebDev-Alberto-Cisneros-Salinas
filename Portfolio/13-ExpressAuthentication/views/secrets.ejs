<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Secrets</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>

<body>
  <main class="page stack">
    <div class="card stack" style="gap:0.35rem;">
      <div class="stack" style="gap:0.35rem;">
        <h1 style="margin:0;">Middle-Earth Secrets</h1>
        <p class="muted" style="margin:0;">Welcome, <%= user.username %></p>
      </div>
      <div class="stack" style="flex-direction:row; gap:0.5rem; flex-wrap:wrap;">
        <a href="/submit" class="button-link">Share your secret</a>
        <a href="/logout" class="button-link button-secondary">Logout</a>
      </div>
    </div>

    <section class="stack">
      <h2 style="margin:0;">Secrets shared by the community</h2>
      <% if (secrets.length === 0) { %>
      <p class="notice">No secrets yet. Be the first one!</p>
      <% } else { %>
      <ul class="list">
        <% secrets.forEach(function(secretHolder){ %>
        <li class="list-item">
          <strong><%= secretHolder.username %>:</strong>
          <p style="margin:0.35rem 0 0;"><%= secretHolder.secret %></p>
        </li>
        <% }) %>
      </ul>
      <% } %>
    </section>
  </main>
</body>

</html>
